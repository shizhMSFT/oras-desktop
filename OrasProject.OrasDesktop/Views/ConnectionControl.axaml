<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:vm="using:OrasProject.OrasDesktop.ViewModels"
             mc:Ignorable="d" d:DesignWidth="400" d:DesignHeight="50"
             x:Class="OrasProject.OrasDesktop.Views.ConnectionControl"
             x:DataType="vm:ConnectionViewModel">
  
  <Grid ColumnDefinitions="*,Auto">
    <!-- Registry URL TextBox -->
    <TextBox
      x:Name="RegistryTextBox"
      Grid.Column="0"
      Margin="0,0,10,0"
      VerticalContentAlignment="Center"
      Watermark="Enter registry (e.g., mcr.microsoft.com)"
      Text="{Binding RegistryUrl}"
      ToolTip.Tip="Press Enter to connect, or Shift+Enter to force login">
      <TextBox.KeyBindings>
        <KeyBinding Command="{Binding ConnectCommand}" Gesture="Enter" />
      </TextBox.KeyBindings>
    </TextBox>

    <!-- Anonymous Checkbox (hidden for now, will be used later) -->
    <!-- <CheckBox
      Grid.Column="1"
      Margin="0,0,5,0"
      VerticalAlignment="Center"
      Content="Anonymous"
      IsChecked="{Binding IsAnonymous}"
      ToolTip.Tip="Connect without authentication" /> -->

    <!-- Connect Button -->
    <Button
      x:Name="ConnectButton"
      Grid.Column="1"
      Command="{Binding ConnectCommand}"
      ToolTip.Tip="Click to connect anonymously, or hold Shift to force login">
      <StackPanel Orientation="Horizontal" Spacing="6" VerticalAlignment="Center">
        <Path
          Width="16"
          Height="16"
          Data="M10,17V14H3V10H10V7L15,12L10,17M19,3H12V5H19V19H12V21H19C20.1,21 21,20.1 21,19V5C21,3.9 20.1,3 19,3Z"
          Fill="{DynamicResource ButtonForeground}"
          Stretch="Uniform"
          VerticalAlignment="Center" />
        <TextBlock Text="Connect" VerticalAlignment="Center" />
      </StackPanel>
    </Button>
  </Grid>
</UserControl>
